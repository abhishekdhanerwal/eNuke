describe('user story controlller' , function () {

    var fileData = [" _  _  _        _     _  _ ","|_ | || |  ||_| _|  ||_ |_ ","|_||_||_|  |  | _|  | _| _|",""," _  _  _     _  _     _    ","|_ |_ | ||_|| ||_||_||_ |_|","|_| _||_|  ||_||_|  | _|  |",""," _  _  _  _  _  _  _  _    "," _||_|  || ||_   || | _|  |"," _||_|  ||_| _|  ||_||_   |",""," _        _  _  _  _  _  _ "," _||_|  |  | _||_ |_   ||_|"," _|  |  |  ||_  _| _|  | _|","","    _  _     _  _     _  _ ","|_||_ |_|  |  ||_||_||_||_|","  | _| _|  |  | _|  ||_| _|","","    _  _  _     _  _  _  _ ","|_||_||_ |_ |_|| | _||_ |_|","  ||_| _||_|  ||_| _||_||_|",""," _        _  _  _     _  _ ","|_ |_|  | _||_ |_   ||_| _|","|_|  |  | _||_||_|  ||_| _|",""," _  _  _  _  _  _  _       ","  || | _||_||_||_| _|  |  |","  ||_||_  _| _||_| _|  |  |",""," _  _  _  _  _  _  _  _  _ ","  ||_||_| _|  | _||_||_ | |","  ||_||_||_   ||_  _| _||_|",""," _  _  _  _  _     _  _  _ ","|_ |_ |_  _|| |  | _| _| _|","|_| _| _| _||_|  ||_  _||_ ",""," _  _        _     _  _  _ ","  | _|  ||_||_|  ||_| _||_ ","  ||_   |  | _|  | _| _||_|",""," _  _  _  _     _  _     _ ","  ||_ |_  _|  ||_||_|  ||_ ","  ||_| _||_   | _||_|  ||_|",""," _  _  _  _  _     _  _  _ ","|_  _||_||_|  |  ||_||_| _|"," _||_  _||_|  |  ||_||_||_ ",""," _     _  _  _     _  _  _ ","| ||_||_||_ |_|  ||_ |_| _|","|_|  ||_||_| _|  ||_||_||_ ","","    _  _  _  _  _     _  _ ","  | _||_|  ||_| _||_|| || |","  ||_ |_|  ||_| _|  ||_||_|",""," _  _  _  _  _  _  _       ","| | _||_||_||_  _| _|  ||_|","|_||_ |_| _||_||_ |_   |  |","","    _  _  _  _  _  _  _  _ ","  || ||_  _| _||_   | _||_|","  ||_| _| _||_ |_|  | _| _|","","       _  _  _  _     _  _ ","|_|  |  ||_||_ |_   ||_| _|","  |  |  ||_| _| _|  | _||_ ",""," _  _  _  _  _  _  _  _  _ ","| ||_ | | _||_||_||_ |_   |","|_||_||_||_  _| _||_| _|  |",""," _  _  _        _     _  _ ","|_  _||_|  |  ||_|  | _||_|"," _||_ |_|  |  ||_|  ||_  _|",""," _     _     _  _  _  _  _ "," _||_||_||_|  | _||_  _|| |","|_   ||_|  |  | _| _| _||_|",""," _  _  _  _  _  _  _  _  _ ","|_ |_|  ||_ |_|| ||_ |_|  |","|_||_|  | _||_||_| _||_|  |",""," _  _     _  _     _  _  _ ","|_  _||_|  || |  ||_  _| _|","|_| _|  |  ||_|  | _| _| _|","","    _     _  _        _  _ ","  || |  | _|  ||_|  | _| _|","  ||_|  ||_   |  |  ||_ |_ ",""," _  _  _        _  _  _  _ ","|_| _||_ |_|  ||_ |_  _| _|"," _||_  _|  |  ||_||_||_ |_ ",""," _  _  _  _        _  _  _ ","  ||_ | |  ||_||_||_||_ |_ ","  ||_||_|  |  |  ||_||_||_|",""," _  _  _     _  _  _  _  _ "," _||_   ||_| _| _|| ||_ |_|","|_ |_|  |  ||_ |_ |_| _| _|",""," _     _  _  _  _  _  _  _ "," _||_| _||_||_   ||_ |_ |_|","|_   ||_ |_||_|  ||_||_| _|",""," _  _  _  _  _  _  _  _  _ ","|_ |_|| ||_|  | _| _||_ |_|","|_| _||_||_|  ||_ |_  _| _|",""," _  _  _  _     _  _  _    ","|_||_||_ |_ |_| _|  || |  |"," _| _||_| _|  ||_   ||_|  |",""," _  _  _  _  _  _     _  _ ","|_|| ||_||_ |_ |_ |_||_ |_|","|_||_| _| _| _| _|  ||_||_|",""," _  _  _  _     _  _  _  _ ","| | _||_||_ |_||_|  ||_| _|","|_| _||_||_|  ||_|  | _||_ ",""," _  _  _     _  _  _  _  _ ","| || | _||_||_|  | _||_   |","|_||_||_   ||_|  | _| _|  |","","    _  _     _        _    ","|_| _| _||_|| |  |  ||_||_|","  | _| _|  ||_|  |  ||_|  |",""," _           _  _  _  _    ","| |  |  ||_| _| _||_||_   |","|_|  |  |  ||_  _| _| _|  |",""," _  _     _  _        _  _ ","|_ | |  | _|  |  ||_|  ||_ ","|_||_|  ||_   |  |  |  | _|","","       _  _  _  _  _  _  _ ","|_|  || | _| _|| | _|  ||_ ","  |  ||_||_  _||_| _|  | _|",""," _  _     _  _     _       ","  ||_|  | _||_ |_| _|  |  |","  | _|  ||_ |_|  ||_   |  |",""," _  _  _  _  _  _  _  _    ","|_ | ||_  _||_  _| _||_||_|"," _||_| _||_  _||_  _||_|  |",""," _  _  _  _  _     _  _  _ ","  |  |  | _| _||_| _|  || |","  |  |  ||_  _|  ||_   ||_|",""," _  _        _  _        _ ","  || |  |  ||_  _|  ||_|  |","  ||_|  |  ||_||_   |  |  |",""," _     _  _  _  _  _  _    ","|_|  ||_| _| _||_  _||_ |_|","|_|  | _| _||_ |_| _||_|  |",""," _  _  _  _  _  _  _  _  _ "," _||_ |_||_||_ | ||_| _||_|","|_ |_||_||_| _||_||_||_ |_|",""," _  _  _  _     _  _  _  _ ","  ||_ |_ |_|  ||_|| ||_||_|","  ||_||_| _|  | _||_| _| _|",""," _  _  _  _  _  _     _  _ ","|_   || ||_   ||_ |_||_|  |"," _|  ||_||_|  ||_|  ||_|  |",""," _     _  _     _     _  _ ","  |  ||_  _||_| _|  || | _|","  |  ||_| _|  ||_   ||_| _|",""," _  _  _  _        _  _  _ ","| ||_   || ||_||_||_  _|  |","|_| _|  ||_|  |  ||_||_   |",""," _  _     _  _  _  _  _  _ ","  |  ||_|| ||_||_ |_||_|| |","  |  |  ||_||_||_||_| _||_|",""," _  _  _  _  _     _     _ ","  | _||_  _||_ |_| _||_||_ ","  ||_  _| _||_|  ||_   ||_|",""," _  _     _  _  _  _  _  _ ","|_|| |  | _||_| _||_ |_||_|"," _||_|  ||_ |_||_  _||_||_|",""," _  _  _  _  _  _  _  _  _ ","| ||_||_  _||_||_||_ |_  _|","|_| _||_| _||_||_| _| _||_ ",""," _  _  _  _  _  _  _     _ ","|_||_| _||_ |_||_||_||_|  |"," _||_||_  _| _||_| _|  |  |",""," _     _  _  _  _  _  _  _ ","|_|  || ||_ |_ |_| _||_||_|"," _|  ||_||_| _| _| _||_| _|",""," _  _  _     _  _     _  _ ","|_ |_   |  || | _||_||_ |_|","|_| _|  |  ||_||_   | _||_|",""," _  _  _  _     _     _  _ ","|_   ||_||_   | _||_||_||_ "," _|  ||_||_|  ||_   | _||_|",""," _  _  _  _     _  _     _ "," _|| | _||_|  |  |  |  ||_ ","|_ |_| _| _|  |  |  |  | _|","","    _  _  _  _  _  _  _    ","|_||_| _| _| _|  || || |  |","  ||_||_ |_ |_   ||_||_|  |",""," _  _  _  _  _  _  _     _ ","|_| _|| ||_  _||_| _|  || |","|_||_ |_| _| _||_| _|  ||_|",""," _     _  _  _  _  _  _  _ ","|_||_||_  _|| ||_  _||_||_|","|_|  | _| _||_| _||_  _||_|",""," _  _  _  _  _  _  _  _  _ ","| | _||_| _| _|  | _||_ |_ ","|_| _| _||_  _|  ||_ |_| _|",""," _  _  _  _     _  _  _  _ "," _|| ||_||_|  ||_|| | _|  |"," _||_| _| _|  | _||_| _|  |",""," _           _  _     _  _ ","| |  ||_|  ||_ | |  ||_  _|","|_|  |  |  ||_||_|  | _| _|",""," _     _     _  _  _  _  _ ","|_|  ||_   | _||_ |_|  | _|","|_|  | _|  ||_ |_| _|  ||_ ",""," _  _     _     _  _  _  _ ","|_   |  | _|  | _|  |  ||_|"," _|  |  ||_   ||_   |  ||_|","","       _  _  _     _  _  _ ","|_|  | _| _||_|  ||_ |_ |_ ","  |  | _| _| _|  ||_| _| _|","","    _  _     _  _  _  _  _ ","  ||_   |  ||_ |_   ||_|  |","  | _|  |  ||_| _|  ||_|  |",""," _     _  _     _     _  _ ","|_ |_||_ |_||_| _||_||_||_|","|_|  ||_| _|  | _|  | _| _|",""," _  _  _  _     _  _  _    ","|_||_  _|  ||_||_| _||_ |_|","|_||_||_   |  ||_| _||_|  |",""," _     _  _     _  _  _  _ ","| ||_|  ||_ |_| _| _||_ |_ ","|_|  |  ||_|  | _| _||_||_|","","    _     _  _  _  _     _ ","  || ||_| _| _| _||_ |_| _|","  ||_|  ||_ |_  _||_|  ||_ ","","    _  _     _  _  _  _  _ ","  | _|  ||_| _|  ||_   | _|","  | _|  |  ||_   | _|  | _|","","    _  _  _  _  _  _  _  _ ","|_||_ |_||_| _||_ | ||_   |","  | _||_||_||_ |_||_| _|  |",""," _  _  _  _  _  _  _  _  _ ","|_  _|  | _||_   | _|  ||_|","|_| _|  | _||_|  ||_   ||_|",""," _  _  _  _     _  _     _ ","  ||_|| || ||_||_| _|  || |","  | _||_||_|  ||_| _|  ||_|","","    _  _  _     _  _     _ ","|_|  ||_||_   |  ||_|  | _|","  |  ||_| _|  |  | _|  ||_ ","","    _  _  _        _     _ ","|_| _||_   |  |  |  ||_||_ ","  | _||_|  |  |  |  |  | _|","","    _  _  _  _  _  _  _  _ ","|_|| || | _||_||_ |_||_||_|","  ||_||_||_  _||_||_||_||_|",""," _     _  _  _     _  _  _ ","|_   ||_  _||_||_|  ||_|| |"," _|  | _||_  _|  |  ||_||_|",""," _  _  _  _  _  _          ","  ||_ | |  ||_||_|  |  |  |","  ||_||_|  ||_||_|  |  |  |",""," _  _  _     _     _  _  _ ","|_||_ |_   |  |  |  ||_ |_|"," _| _| _|  |  |  |  ||_||_|",""," _  _  _        _  _  _  _ "," _||_||_||_||_|| | _| _| _|"," _| _| _|  |  ||_||_  _||_ ","","    _     _  _  _  _     _ ","|_||_ |_|| ||_|| | _|  | _|","  | _|  ||_||_||_||_   ||_ ","","    _  _  _  _  _  _     _ ","|_|| ||_||_ | ||_||_ |_||_ ","  ||_||_| _||_| _| _|  ||_|",""," _  _  _  _  _  _  _  _  _ ","|_| _||_| _|| ||_  _||_| _|","|_| _| _| _||_||_| _| _| _|",""," _  _  _  _     _  _  _  _ ","|_ |_ |_||_|  || | _||_ |_ ","|_||_||_| _|  ||_| _| _||_|",""," _  _  _  _  _        _  _ ","  | _||_||_  _|  |  |  | _|","  ||_ |_| _||_   |  |  ||_ ",""," _     _     _  _     _    ","|_ |_||_|  | _||_||_|  ||_|","|_|  | _|  ||_  _|  |  |  |",""," _  _  _  _  _  _  _  _  _ ","| | _||_ |_ |_||_ |_ |_   |","|_| _||_| _| _| _||_||_|  |",""," _     _  _     _     _  _ "," _||_|| ||_||_|  ||_||_| _|"," _|  ||_||_|  |  |  | _||_ ",""," _     _  _     _  _     _ "," _||_||_|  |  ||_||_   || |","|_   | _|  |  ||_| _|  ||_|",""," _  _  _     _        _  _ ","| ||_|  ||_|  |  |  ||_| _|","|_||_|  |  |  |  |  ||_| _|",""," _        _  _     _  _  _ ","|_||_||_| _|  |  || ||_||_|","|_|  |  ||_   |  ||_| _||_|",""," _  _  _     _  _  _  _    ","|_  _| _||_||_ |_|| ||_||_|","|_| _| _|  ||_| _||_||_|  |",""," _  _     _  _  _  _  _    "," _||_   |  ||_   |  ||_||_|"," _||_|  |  | _|  |  | _|  |","","    _  _     _  _  _  _    ","  ||_ |_|  || || ||_| _||_|","  ||_||_|  ||_||_| _||_   |","","       _  _  _  _  _     _ ","|_|  ||_| _|| ||_ |_ |_|| |","  |  | _||_ |_| _||_|  ||_|",""," _  _  _  _  _  _  _  _  _ "," _||_||_||_  _||_||_| _||_ "," _| _| _||_| _| _| _||_ |_|",""," _        _  _  _  _  _    "," _|  |  | _||_ |_|  ||_ |_|","|_   |  ||_  _| _|  ||_|  |",""," _  _  _     _  _     _    "," _|| ||_|  ||_ |_ |_||_|  |","|_ |_||_|  | _| _|  ||_|  |","","    _  _  _  _  _  _  _  _ ","  ||_||_||_|| ||_|| ||_|| |","  ||_||_||_||_| _||_| _||_|","",""];

    var $controller;
    var scope;
    var controller;

    beforeEach(angular.mock.module('app'));
    beforeEach(angular.mock.inject(function(_$controller_ , _$rootScope_){

        $controller = _$controller_;
        scope = _$rootScope_.$new();
        controller = $controller('UserStoryController', {
            $scope: scope
        });

    }));

    it('should check length of the integer converted from 7 segment display ' , function () {
        controller.showContent(fileData);
        for(var index=0 ; index < controller.content.length/4 ; index++){
            expect(controller.finalResult[0].length).toBe(9)
        }
    });
    it('should integer formed from first line of segment ' , function () {

        function findInteger(flag , index) {
            if(controller.content[index][flag+1] == " "){
                if(controller.content[index+1][flag] == "|")
                    controller.currentString = controller.currentString + "4";
                else
                    controller.currentString = controller.currentString + "1";
            }
            else  {
                if(controller.content[index+1][flag] == " "){
                    if(controller.content[index][flag+(28*2)] == "|")
                        controller.currentString = controller.currentString + "2";
                    else {
                        if(controller.content[index+1][flag+1] == "_")
                            controller.currentString = controller.currentString + "3";
                        else
                            controller.currentString = controller.currentString + "7";
                    }
                }
                else {
                    if(controller.content[index+1][flag+1] == " ")
                        controller.currentString = controller.currentString + "0";
                    else {
                        if(controller.content[index+2][flag] == "|"){
                            if(controller.content[index+1][flag+2] == " ")
                                controller.currentString = controller.currentString + "6";
                            else
                                controller.currentString = controller.currentString + "8";
                        }
                        else {
                            if(controller.content[index+1][flag+2] == " ")
                                controller.currentString = controller.currentString + "5";
                            else
                                controller.currentString = controller.currentString + "9";
                        }
                    }
                }
            }
        }
        controller.showContent(fileData);
        findInteger(0,0)
        expect(controller.currentString).toBe('6');
        findInteger(3,0)
        expect(controller.currentString).toBe('60');
        findInteger(6,0)
        expect(controller.currentString).toBe('600');
        findInteger(9,0)
        expect(controller.currentString).toBe('6001');
        findInteger(12,0)
        expect(controller.currentString).toBe('60014');
        findInteger(15,0)
        expect(controller.currentString).toBe('600143');
        findInteger(18,0)
        expect(controller.currentString).toBe('6001431');
        findInteger(21,0)
        expect(controller.currentString).toBe('60014315');
        findInteger(24,0)
        expect(controller.currentString).toBe('600143155');
        expect(controller.finalResult[0]).toBe('600143155');
        expect(controller.finalResult[0].length).toBe(9);


    });
})